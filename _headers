# Netlify Headers for NOVUMFLOW HR Platform
# Security, Performance, and Caching Optimizations

# Global security headers
/*
  # Security Headers
  X-Frame-Options: DENY
  X-XSS-Protection: 1; mode=block
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: camera=(), microphone=(), geolocation=(), payment=()
  
  # Content Security Policy
  Content-Security-Policy: default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://kvtdyttgthbeomyvtmbj.supabase.co; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https: blob:; connect-src 'self' https://kvtdyttgthbeomyvtmbj.supabase.co wss://kvtdyttgthbeomyvtmbj.supabase.co; object-src 'none'; base-uri 'self'; form-action 'self'
  
  # Feature Policy for security
  Feature-Policy: camera 'none'; microphone 'none'; geolocation 'none'; payment 'none'
  
  # Strict Transport Security (HTTPS only)
  Strict-Transport-Security: max-age=63072000; includeSubDomains; preload

# Static assets caching
/assets/*
  Cache-Control: public, max-age=31536000, immutable
  
/static/*
  Cache-Control: public, max-age=31536000, immutable

# JavaScript and CSS files
/*.js
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: application/javascript; charset=utf-8
  
/*.css
  Cache-Control: public, max-age=31536000, immutable
  Content-Type: text/css; charset=utf-8

# Images and media
/images/*
  Cache-Control: public, max-age=2592000
  
/*.png
  Cache-Control: public, max-age=2592000
  
/*.jpg
  Cache-Control: public, max-age=2592000
  
/*.jpeg
  Cache-Control: public, max-age=2592000
  
/*.gif
  Cache-Control: public, max-age=2592000
  
/*.svg
  Cache-Control: public, max-age=2592000
  
/*.webp
  Cache-Control: public, max-age=2592000

# Fonts
/*.woff
  Cache-Control: public, max-age=31536000, immutable
  
/*.woff2
  Cache-Control: public, max-age=31536000, immutable
  
/*.ttf
  Cache-Control: public, max-age=31536000, immutable

# HTML files - shorter cache for updates
/*.html
  Cache-Control: public, max-age=3600
  Content-Type: text/html; charset=utf-8

# Root HTML
/index.html
  Cache-Control: public, max-age=300
  Content-Type: text/html; charset=utf-8

# API routes - no caching
/api/*
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0
  
# Progressive Web App
/manifest.json
  Cache-Control: public, max-age=86400
  Content-Type: application/manifest+json

/service-worker.js
  Cache-Control: no-cache, no-store, must-revalidate
  Content-Type: application/javascript

# Documentation
/docs/*
  Cache-Control: public, max-age=3600
  Content-Type: text/html; charset=utf-8

# Admin panel
/admin/*
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

# Health check endpoint
/health
  Cache-Control: no-cache, no-store, must-revalidate
  Content-Type: application/json

# Sitemap and robots
/sitemap.xml
  Cache-Control: public, max-age=86400
  Content-Type: application/xml
  
/robots.txt
  Cache-Control: public, max-age=86400
  Content-Type: text/plain

# Security.txt
/.well-known/security.txt
  Cache-Control: public, max-age=86400
  Content-Type: text/plain

# CORS headers for API access
/api/*
  Access-Control-Allow-Origin: *
  Access-Control-Allow-Methods: GET, POST, PUT, DELETE, OPTIONS, PATCH
  Access-Control-Allow-Headers: Content-Type, Authorization, X-Requested-With
  Access-Control-Max-Age: 86400

# Performance optimizations
/*
  # Compression
  Content-Encoding: gzip
  
  # Enable server push for critical resources
  Link: </assets/main.css>; rel=preload; as=style
  Link: </assets/main.js>; rel=preload; as=script